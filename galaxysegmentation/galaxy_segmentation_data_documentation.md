# Data types

All data for this AI/ML training dataset is made available in the Flexible Image Transport System (otherwise known as ['.fits' data](https://fits.gsfc.nasa.gov/) ) format used in astrophysics. This is an open data standard and tools for reading .fits files are supported by the astropy package in Python, but a list of known packages which support accessing .fits data is centralized on the [standard's website](https://fits.gsfc.nasa.gov/fits_libraries.html).

For each galaxy in this dataset two .fits images exist: one with the filename *imagedata_\<objectidentifier\>.fits*, and a second with the filename *maskdata_\<objectidentifier\>.fits*. 
- *maskdata_\<objectidentifier\>.fits* consists of a single array with values between 0.0 and 4.0 where: values of zero (0.0) are pixels of no relevant data, values of one (1.0) are pixels identified as being associated with a galaxy's center or core, values of two (2.0) are pixels identified as being part of a galaxy's bar, values of three (3.0) are pixels identified as being part of a galaxy's arms and values of four (4.0) are pixels identified as being associated with a star.  
- *imagedata_\<objectidentifier\>.fits* holds the imaging data for a galaxy in 5 different filters, or channels. This .fits file is a multiextension file which contains more than one 2-D image array; the order for these extensions is always the same. The primary, or 0 indexed array belongs to the the *g* astronomical filter, the 1 indexed array belongs to the *r* astronomical filter, the 2 indexed array belongs to the *i* astronomical filter, the 3 indexed array belongs to the *z* astronomical filter, the the 4 indexed array belongs to the *y* astronomical filter. 

# Data origins and preprocessing

Data labels for this training data set originated from the Galaxy Zoo 3D project which asked users of the [Zooniverse Citizen Science Platform](https://www.zooniverse.org) to identify the center, bar and spiral of a given galaxy and any potential stars in the area of interest as well. Description of the process for creation of labeled images which were used to generate the masks for this dataset are found in the journal article [Galaxy Zoo: 3D â€“ crowdsourced bar, spiral, and foreground star masks for MaNGA target galaxies]('https://academic.oup.com/mnras/article/507/3/3923/6347355') by Masters et al (2021). In this citizen science project, users of the Zooniverse platform were presented with three color images created from the [Sloan Digital Sky Survey](https://www.sdss4.org/) and were given one of four tasks: clicking on the galaxy center, clicking on foreground stars in the image, drawing a box around the galactic bar or freehand drawing the edges of the spiral arms. Results from this project and the associated publication by Masters et al (2021) are published as a Sloan Digital Sky Survey Value Added Catalog and are available as part of [Sloan Data Release 17](https://www.sdss4.org/dr17/data_access/value-added-catalogs/?vac_id=galaxy-zoo-3d). Those galaxies which had 5 or more users tasked with marking the bar or spiral arms of the galaxy were used for generation of this data set.


Imaging data hosted by the [Mikulski Archive for Space Telescopes](https://archive.stsci.edu) for the [Panoramic Survey Telescope and Rapid Response System \(Pan-STARRS\)](https://outerspace.stsci.edu/display/PANSTARRS/) survey ([Chambers et al 2016]()) is the source of the imaging data for this training data set. [All 5 filters](https://outerspace.stsci.edu/display/PANSTARRS/PS1+Filter+properties) of data from Pan-STARRS are present in each image data file and this data covers wavelengths from 400 to 1000 nanometers. Imaging data in this training dataset is the result of a stacking procedure used to combine multiple exposures into the equivalent of a longer exposure from [Waters et al \(2020\)](https://iopscience.iop.org/article/10.3847/1538-4365/abb82b) which aids in the detection of faint and low surface brightness features. Image cutouts equal to 60 arcseconds have been made for each object identifier in the dataset using [the Pan-STARRS 1 Cutout Service](https://outerspace.stsci.edu/display/PANSTARRS/PS1+Image+Cutout+Service).


The data labels for the training set were created by using the data labels from Masters et al (2021) and projecting those masks such that they are aligned with the world coordinate system orientation of the Pan-STARRS data and have the same spatial resolution using the AstroPy afilliated package of [Reproject](https://github.com/astropy/reproject). The 4 unique 2D pixel masks, one for each label type, created after reprojection were combined into a single image mask with pixel priority assignments at places of conflict being assigned to the lowest mask value; i.e. if a pixel shared both a center and bar label, the pixel was given the label of center as galaxy centers have a lower numerical value than the bar label. Each label type mask was created by flagging those pixels for each label with a value greater than or equal to the mean of nonzero votes per pixel minus one as reliable regions of interest for the label.


# References

 Masters K.L., Krawczyk C., Shamsi S., Todd A., Finnegan D., Bershady M., Bundy K., et al., 2021, Monthly Notices of the Royal Astronomical Society, 507, 3923. [doi:10.1093/mnras/stab2282](https://academic.oup.com/mnras/article/507/3/3923/6347355)

Chambers K.C., Magnier E.A., Metcalfe N., Flewelling H.A., Huber M.E., Waters C.Z., Denneau L., et al., 2016, arXiv, arXiv:1612.05560. [doi:10.48550/arXiv.1612.05560](https://arxiv.org/abs/1612.05560)

Waters C.Z., Magnier E.A., Price P.A., Chambers K.C., Burgett W.S., Draper P.W., Flewelling H.A., et al., 2020, Astrophysical Journal Supplement, 251, 4. [doi:10.3847/1538-4365/abb82b](https://iopscience.iop.org/article/10.3847/1538-4365/abb82b)
